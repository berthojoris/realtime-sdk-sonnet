# ===========================================
# REALTIME ANALYTICS SERVER CONFIGURATION
# ===========================================
# Copy this file to .env and configure for your environment

# -------------------------------------------
# Database Configuration
# -------------------------------------------
# Supported types: mysql, postgresql, mongodb, sqlite, plaintext
DATABASE_TYPE=sqlite

# -------------------------------------------
# Database Connection Strings
# -------------------------------------------
# Choose ONE based on DATABASE_TYPE above

# SQLite - Simple file-based database (default)
# Format: sqlite://path/to/database.db
DATABASE_URL=sqlite://./analytics.db

# MySQL - Production-ready relational database
# Format: mysql://username:password@host:port/database
# DATABASE_URL=mysql://root:password@localhost:3306/analytics

# PostgreSQL - Advanced relational database
# Format: postgresql://username:password@host:port/database
# DATABASE_URL=postgresql://postgres:password@localhost:5432/analytics

# MongoDB - NoSQL document database
# Format: mongodb://username:password@host:port/database
# Alternative: mongodb+srv://username:password@cluster.mongodb.net/database
# DATABASE_URL=mongodb://localhost:27017/analytics

# Plaintext - JSON file storage (development only)
# Format: plaintext://path/to/directory
# DATABASE_URL=plaintext://./data

# -------------------------------------------
# Connection Pool Settings (MySQL/PostgreSQL)
# -------------------------------------------
DATABASE_POOL_MIN=2
DATABASE_POOL_MAX=10

# -------------------------------------------
# Server Configuration
# -------------------------------------------
SERVER_PORT=3000
SERVER_HOST=0.0.0.0

# -------------------------------------------
# CORS Configuration
# -------------------------------------------
# Single origin: https://example.com
# Multiple origins: https://example.com,https://app.example.com
# All origins: *
CORS_ORIGIN=*
CORS_CREDENTIALS=true
CORS_METHODS=GET,POST,OPTIONS
CORS_ALLOWED_HEADERS=Content-Type,X-API-Key
CORS_MAX_AGE=86400

# -------------------------------------------
# Security Configuration
# -------------------------------------------
# API Keys (comma-separated list)
# Leave empty to disable API key authentication
API_KEYS=

# IP Allowlist (comma-separated, supports wildcards and CIDR)
# Examples: 192.168.1.*, 10.0.0.0/8
ALLOWED_IPS=

# IP Blocklist (comma-separated)
BLOCKED_IPS=

# Trust proxy headers (for load balancers/reverse proxies)
TRUST_PROXY=false

# -------------------------------------------
# Rate Limiting
# -------------------------------------------
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100

# -------------------------------------------
# Analytics Configuration
# -------------------------------------------
ANALYTICS_BATCH_SIZE=100
ANALYTICS_FLUSH_INTERVAL=5000
ANALYTICS_ENABLE_REALTIME=false

# -------------------------------------------
# WebSocket Configuration
# -------------------------------------------
ENABLE_WEBSOCKET=false

# -------------------------------------------
# Privacy & GDPR
# -------------------------------------------
ENABLE_GDPR=true
DATA_RETENTION_DAYS=90
ANONYMIZE_IP=true

# -------------------------------------------
# Logging & Debug
# -------------------------------------------
DEBUG=false
LOG_LEVEL=info

# -------------------------------------------
# Environment
# -------------------------------------------
NODE_ENV=production
